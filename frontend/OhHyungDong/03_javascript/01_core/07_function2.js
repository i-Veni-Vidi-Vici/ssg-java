/**
 * í•¨ìˆ˜ì˜ ì—¬ëŸ¬ê°€ì§€ í˜•íƒœ
 * 
 * 1. ì¦‰ì‹œ ì‹¤í–‰í•¨ìˆ˜
 * 2. ìž¬ê·€í•¨ìˆ˜ 
 * 3. ì¤‘ì²©í•¨ìˆ˜
 * 4. ì½œë°±í•¨ìˆ˜
 * 5. ìˆœìˆ˜í•¨ìˆ˜
 * 6. í´ë¡œì ¸í•¨ìˆ˜
 */

/**
 * 1. ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜(IIFE)
 * - immediately invoked Functino Expression
 * - ì„ ì–¸ê³¼ ì‹¤í–‰ì„ ë™ì‹œì— ìž‘ì„±í•˜ëŠ” í•¨ìˆ˜ 
 */

(() => {
    console.log('ðŸ¥©');
    
})();

((food) => {
   console.log(food);
   
})('ðŸº');

let meat = "ðŸ¥©";
console.log(meat);

(() => {
    // ì§€ì—­ìŠ¤ì½”í”„
    // ì§€ì—­ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³ , ê°’ì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ì„œ IIFEë¥¼ ì‚¬ìš©í•œë‹¤.
    let meat = "ðŸ¥©";
    console.log(meat);
    
 })();

 /**
  * 2. ìž¬ê·€í˜¸ì¶œí•¨ìˆ˜ 
  * - í•¨ìˆ˜ ì•ˆì—ì„œ í•¨ìˆ˜ ìžì‹ ì„ ë‹¤ì‹œ í˜¸ì¶œí•˜ëŠ” ê²½ìš°
  * - ì¢…ë£Œì¡°ê±´ì„ ë°˜ë“œì‹œ ëª…ì‹œí•´ì•¼ í•œë‹¤. (stackover flow ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìžˆì–´ ì£¼ì˜í•´ì•¼í•œë‹¤.)
  */

 const factorial = (n) => {
    if(n == 1) return 1; // ì¢…ë£Œ ì¡°ê±´ 
    return n * factorial(n-1);

 };
 console.log(factorial(5));

 /**
  * 3, ì¤‘ì²©í•¨ìˆ˜ 
  * - í•¨ìˆ˜ ë‚´ë¶€ì— í•¨ìˆ˜ë¥¼ ì„ ì–¸í•´ì„œ ì‚¬ìš©
  * - ë‚´ë¶€í•¨ìˆ˜ë¥¼ êµ³ì´ ë…¸ì¶œí•  í•„ìš”ê°€ ì—†ëŠ” ê²½ìš° ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.
  * 
  */

 const outer = (n) =>{
    const inner = (k) => k < 10 ? '0' + k : k;
    console.log(inner(n));
 };

 outer(15);
 outer(2);
 
 /**
  * 4. ì½œë°±í•¨ìˆ˜(call back)
  * - jsì˜ í•¨ìˆ˜ëŠ” ì¼ê¸‰ê°ì²´(ê°’)ìœ¼ë¡œì¨ ë§¤ê°œì¸ìžë¡œ ì „ë‹¬í•  ìˆ˜ ìžˆê³ , ì´ë¥¼ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìžˆë”°.
  */

 const a = (f) => {
    f();
 }

 const b = () => console.log('ðŸ°');
 a(b);

 /**
  * ìˆœìˆ˜ / ë¹„ìˆœìˆ˜ í•¨ìˆ˜ 
  * - ëª¨ë“  í•¨ìˆ˜ì—ëŠ” ìž…ë ¥ / ì¶œë ¥ì´ ìžˆë‹¤.
  * - í•¨ìˆ˜ì—ëŠ” ë¶€ìž…ë ¥ / ë¶€ì¶œë ¥ì´ ìžˆì„ ìˆ˜ ìžˆë‹¤. (ëª…ì‹œì ìœ¼ë¡œ ì „ë‹¬í•œ ë§¤ê°œì¸ìž / ë¦¬í„´ê°’ ì™¸ì— ì™¸ë¶€ ìŠ¤ì½”í”„ì˜ ê°’ì„ ìž…ë ¥ /ì¶œë ¥ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.)
  * 
  * ìˆœìˆ˜í•¨ìˆ˜ : ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´ / ë³€ê²½í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ 
  * ë¹„ìˆœìˆ˜í•¨ìˆ˜ : ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´ / ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ 
  * -> ë˜ë„ë¡ ìˆœìˆ˜í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ìž !
  * 
  * - ìˆœìˆ˜í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ë¶ˆë³€ì„±ì„ ì¶”ê°€í•˜ëŠ” í”„ë¡œê·¸ëž˜ë° ë°©ì‹ì´ í•¨ìˆ˜í˜• í”„ë¡œê·¸ëž˜ë°ì´ë‹¤.
  */

 //ìˆœìˆ˜í•¨ìˆ˜ : pureFunc
 const pureFunc= (n) => {
    return ++n ;
 };
 console.log(pureFunc(1));

 //ë¹„ìˆœìˆ˜í•¨ìˆ˜ : impureFunc
let count = 0; //ë§¤ê°œì¸ìž ì™¸ì— ë‹¤ë¥¸ ê°’ì„ ì¶”ê°€í•´ì„œ ì¶œë ¥í•˜ëŠ” ê²ƒ -> ë¶€ìž…ë ¥
 const impureFunc = (n) => {
    count = count + 1; //ì „ì—­ìŠ¤ì½”í”„ì— ìžˆëŠ” ê°’ì„ ì½ê±°ë‚˜ ì“°ëŠ” ìž‘ì—…ì„ í•˜ëŠ” ê²ƒì„ ë¶€ìž…ë ¥ / ë¶€ì¶œë ¥
    return ++n ;
 };
 console.log(impureFunc(1));

 /**
  * 6. closure í•¨ìˆ˜ 
  * - ìžìœ ë³€ìˆ˜ : free variable : í•¨ìˆ˜ ì§€ì—­ë²”ìœ„ì—ì„œ ì„ ì–¸ë˜ì§€ ì•Šì€ ë³€ìˆ˜
  * - ëª¨ë“  ìžìœ ë³€ìˆ˜ê°€ ì „ì—­ë³€ìˆ˜ ì¸ê²ƒì€ ì•„ë‹ˆë‹¤.
  * 
  * í´ë¡œì ¸ í•¨ìˆ˜ëž€ ? ìžìœ ë³€ìˆ˜ë¥¼ ê°€ì§€ê³  ì™¸ë¶€ë¡œë¶€í„° ë‹«ížŒ í•¨ìˆ˜ 
  * - í´ë¡œì ¸ê°€ ê°€ì§„ ìžìœ ë³€ìˆ˜ëŠ” ì™¸ë¶€ë¡œë¶€í„° ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ê³ , ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìžˆë‹¤.
  */

 const word = "ì•ˆë…•";
 //wordëŠ” greetingì˜ ìžìœ ë³€ìˆ˜ì´ë‹¤.
 const greeting = (name) =>{
    const word2 = "ë°˜ê°€ì›Œ";
    console.log(`${word}, ${name}. ${word2}`);
 }
 greeting('ê¸¸ë™')


 function yoo(){
    const num = 100;
    return () => console.log(`num = ${num}`);
}
const num = 200;
const too = yoo(); // closureí•¨ìˆ˜ ( ìžìœ ë³€ìˆ˜ num (100)ì„ ê°€ì§€ê³  ì™¸ë¶€ë¡œë¶€í„° ë‹«ížŒ í•¨ìˆ˜
console.log(too);
too(); // 100

let cnt = 0;
const globalCounter = () => console.log(++cnt);

 const closureCounterMaker = () =>{
    let cnt  = 0;
    return () => console.log(++cnt);
 }
 const closureCounter = closureCounterMaker();
 closureCounter();
 closureCounter();
 closureCounter();