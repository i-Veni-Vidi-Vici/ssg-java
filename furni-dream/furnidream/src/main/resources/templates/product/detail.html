<!DOCTYPE html>
<html layout:decorate="~{layout/default}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>상점 등록 정보</title>
    <link rel="stylesheet" th:fragment="styles" th:href="@{/css/styles.css}" type="text/css"/>
</head>
<body>
<main class="ms-4 mt-4 me-4" layout:fragment="main">
    <div class="card mb-4 m-0 shadow">
        <div class="card-header text-center"><h2>[[${product.productName}]]</h2></div>
        <div class="ms-5 mt-4 me-5">
            <div class="row mb-3 text-center" th:object="${product}">
                <div class="row">
                    <div class="col-md-4 themed-grid-col">
                        <img alt="상품이미지" style="max-width: 100%; height: auto;"
                             th:if="${product.productImage == null}"
                             th:src="@{/images/furniture.png}"
                        />
                        <img alt="상품이미지" style="max-width: 100%; height: auto;"
                             th:if="${product.productImage != null}"
                             th:src="@{|http://ssg-java3.iptime.org/furni/${product.productImage}|}"
                        />
                    </div>
                    <div class="col-md-8 themed-grid-col">
                        <table class="table">
                            <thead></thead>
                            <tbody>
                            <tr>
                                <th>상품코드</th>
                                <td>[[*{productCode}]]</td>
                            </tr>
                            <tr>
                                <th>상품상태</th>
                                <td>[[*{productStatus}]]</td>
                            </tr>
                            <tr>
                                <th>카테고리</th>
                                <td>[[*{category}]]</td>
                            </tr>
                            <tr>
                                <th>재고</th>
                                <td>[[*{stock}]]</td>
                            </tr>
                            <tr>
                                <th>색상</th>
                                <td>[[*{color}]]</td>
                            </tr>
                            <tr>
                                <th>사이즈</th>
                                <td>[[*{size}]]</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <table class="table">
                        <thead>
                        <tr>
                            <th>원가</th>
                            <th>할인율</th>
                            <th>판매가</th>
                            <th>배송비</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>[[*{#numbers.formatInteger(costPrice, 3, 'COMMA')}]]</td>
                            <td>[[*{#numbers.formatInteger(retailPrice, 3, 'COMMA')}]]</td>
                            <td>[[*{#numbers.formatInteger(discountRate, 3, 'COMMA')}]]</td>
                            <td>[[*{shippingFee}]]</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    <table class="table">
                        <thead>
                        <tr>
                            <th>상품 설명</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>[[*{description}]]</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    <div class=" d-grid d-md-flex gap-4 justify-content-md-start">
                        <a class="btn btn-primary shadow-sm" th:href="@{/product/list}">목록보기</a>
                        <a class="btn btn-warning shadow-sm" th:href="@{|/product/update/${product.productId}|}">수정</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<script layout:fragment="script">
    const message = `[[${message}]]`; // RedirectAttributes#addFlashAttributes에 담긴 속성
    message && alert(message);
</script>
</body>
</html>